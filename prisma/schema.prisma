generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:root@localhost:3306/iot_data_webproject"
}

model device {
  deviceid       Int       @id @default(autoincrement())
  device_name    String    @db.VarChar(100)
  device_purpose String?   @db.VarChar(300)
  device_ip      String?   @db.VarChar(45)
  status         String?   @db.VarChar(45)
  isdeleted      DateTime? @db.Timestamp(0)
  sensors        sensors[]
}

model led_activity {
  led_activitiyid Int       @id @default(autoincrement())
  sensorid        Int
  activated       Int?      @db.TinyInt
  datetime        DateTime? @db.DateTime(0)
  isdeleted       DateTime? @db.Timestamp(0)
  sensors         sensors   @relation(fields: [sensorid], references: [sensorid], onDelete: NoAction, onUpdate: NoAction, map: "fk_sensi_1")

  @@index([sensorid], map: "fk_sensi_1_idx")
}

model sensors {
  sensorid             Int                    @id @default(autoincrement())
  deviceid             Int?
  sensor_name          String                 @db.VarChar(100)
  sensor_description   String?                @db.VarChar(300)
  isdeleted            DateTime?              @db.Timestamp(0)
  led_activity         led_activity[]
  device               device?                @relation(fields: [deviceid], references: [deviceid], onDelete: NoAction, onUpdate: NoAction, map: "FK_sensi3")
  temperature_humidity temperature_humidity[]

  @@index([deviceid], map: "FK_sensi3_idx")
}

model temperature_humidity {
  temperature_humidityid Int       @id @default(autoincrement())
  sensorid               Int?
  temperature            Float?    @db.Float
  humidity               Float?    @db.Float
  datetime               DateTime? @db.DateTime(0)
  isdeleted              DateTime? @db.Timestamp(0)
  sensors                sensors?  @relation(fields: [sensorid], references: [sensorid], onDelete: NoAction, onUpdate: NoAction, map: "FK_Sensi2")

  @@index([sensorid], map: "FK_Sensi2_idx")
}

model login {
  userid   Int    @id @default(autoincrement())
  username String @db.VarChar(200)
  password String @db.VarChar(200)
}
